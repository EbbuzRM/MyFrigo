# ğŸ¤– Linee Guida per l'Agente AI - MyFrigo

## ğŸ“‹ **Principi Fondamentali**

### 1. **RISOLVI, NON AGGIRARE**
- âŒ **MAI** commentare, disabilitare o rimuovere funzionalitÃ  che non funzionano
- âœ… **SEMPRE** identificare la causa root e risolverla
- âœ… Se manca un `testID`, aggiungilo al codice
- âœ… Se un elemento non Ã¨ accessibile, modifica il codice per renderlo accessibile

### 2. **CHIEDI QUANDO NON SAI**
- âœ… Se un test fallisce e non trovi la causa nel codice, **CHIEDI ALL'UTENTE**
- âœ… L'utente puÃ² vedere l'app reale e spiegare cosa succede
- âŒ Non fare supposizioni o tentativi casuali

### 3. **DEBUGGING SISTEMATICO**
- âœ… Analizza sempre il codice sorgente per capire il comportamento
- âœ… Verifica testi esatti, ID, struttura UI
- âœ… Usa `--debug-output` per vedere log dettagliati
- âœ… Correggi un problema alla volta

## ğŸ§ª **Test Maestro - Regole Specifiche**

### Comandi Supportati
```yaml
âœ… USARE:
- tapOn: "text" / tapOn: id: "element-id"
- inputText: "text"
- eraseText
- assertVisible: "text" / assertVisible: id: "element-id"
- waitForAnimationToEnd
- runFlow: filename.yml
- swipe: direction: UP/DOWN/LEFT/RIGHT

âŒ NON SUPPORTATI:
- clearText (usa eraseText)
- wait: milliseconds (usa waitForAnimationToEnd)
- testID: (usa id:)
- pullToRefresh:
- longPressOn:
- scroll: direction:
```

### Timing e Performance
- âœ… **SEMPRE** `waitForAnimationToEnd` dopo azioni che cambiano UI
- âœ… Aggiungi multipli `waitForAnimationToEnd` dopo `launchApp` per il caricamento
- âœ… Usa `eraseText` prima di `inputText` per sostituire testo esistente

### Elementi UI
- âœ… **Switch/Toggle**: Aggiungi `testID` e usa `tapOn: id:`
- âœ… **Dialog nativi**: Cerca i pulsanti ("Annulla", "OK") non il titolo
- âœ… **Scroll**: Usa `swipe` con coordinate relative per navigare
- âœ… **Ricerca**: Sempre `eraseText` prima di inserire nuovo testo

## ğŸ”§ **Processo di Correzione**

### Quando un Test Fallisce:
1. **Analizza il log** per capire dove fallisce
2. **Controlla il codice sorgente** per l'elemento specifico
3. **Se non trovi la causa**, chiedi all'utente: "PerchÃ© Ã¨ fallito questo step?"
4. **Implementa la correzione** modificando codice o test
5. **Testa la correzione** prima di procedere

### Modifiche al Codice:
- âœ… Aggiungi `testID` agli elementi interattivi
- âœ… Assicurati che testi e ID siano consistenti
- âœ… Rendi accessibili elementi che devono essere testati

## ğŸ“ **Documentazione**

### Ogni Correzione Deve:
- âœ… Spiegare il problema originale
- âœ… Descrivere la soluzione implementata
- âœ… Verificare che funzioni con test
- âœ… Aggiornare documentazione se necessario

### File da Mantenere:
- âœ… `TEST_CORRECTIONS_SUMMARY.md` - Riepilogo correzioni
- âœ… `README.md` - Istruzioni aggiornate
- âœ… Commenti nei test per spiegare soluzioni specifiche

## ğŸš« **COSA NON FARE MAI**

1. âŒ Commentare righe di test che falliscono
2. âŒ Rimuovere funzionalitÃ  invece di correggerle
3. âŒ Fare supposizioni sui dati (categorie, testi, ecc.)
4. âŒ Usare comandi Maestro non supportati
5. âŒ Ignorare errori o fallimenti
6. âŒ Creare workaround invece di soluzioni reali

## âœ… **COSA FARE SEMPRE**

1. âœ… Leggere e seguire queste linee guida
2. âœ… Risolvere problemi alla radice
3. âœ… Chiedere chiarimenti quando necessario
4. âœ… Testare ogni correzione
5. âœ… Documentare le soluzioni
6. âœ… Mantenere qualitÃ  del codice alta

---

**Ricorda: L'obiettivo Ã¨ creare test robusti e affidabili, non aggirare i problemi!**